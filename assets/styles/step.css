/*----------------------------*/
/* STEP */
/*----------------------------*/

/* primary */

.step {
  @apply
  flex
  flex-nowrap
  list-none
  p-0
  ;

  > li {
    @apply
    mt-1
    relative
    flex-1
    text-center
    ;

    &::before {
      @apply
      content-['']
      absolute
      z-10
      left-[50%]
      w-full
      h-0.5
      top-[0.3rem]
      bg-main
      ;
    }

    > a {
      @apply
      inline-block
      text-main
      pt-5
      px-2
      ;

      &::before {
        @apply
        content-['']
        rounded-full
        block
        absolute
        z-20
        left-[50%]
        top-0
        -translate-x-[50%]
        w-3
        h-3
        bg-interaction-500
        border-2
        border-ui-800
        ;
      }      
    }
    &:last-child {
      &::before {
        @apply
        hidden
        ;
      }
    }

    &.is-active {
      &::before {
        @apply
        bg-ui-500
        ;
      }
      a {
        &::before {
          @apply
          border-main
          bg-ui-800
          ;
        }

      }
      ~ li {
        &::before {
          @apply
          bg-ui-500
          ;
        }
        a {
          @apply
          text-ui-400
          ;
          &::before {
            @apply
            bg-ui-500
            ;
          }
        }
      }
    }
  }
}

/* secondary */

.step.step-secondary {

  li::before,
  a::before {
    @apply
    hidden;
  }

  @apply 
  gap-4
  ;
 
  > li {
    @apply
    mt-0
    ;
    > a {
      @apply
      p-0
      flex
      items-center
      gap-4
      text-ui-200
      ;

      > i {
        @apply 
        h-12
        w-12
        rounded-full
        bg-gradient-radial-to-b
        from-ui-200
        to-ui-400
        text-ui-800
        text-center
        text-xl
        not-italic
        font-headings
        leading-[3rem]
        ;
      }

      hr {
        @apply
        flex-1
        block
        h-px
        rounded
        border-t
        border-ui-300
        ;
      }
    }
    &:last-child {
      @apply
      flex-none
      ;
      hr {
        @apply
        hidden;
      }
    }
    &.is-active {
      a {
        @apply
        text-main
        ;
        i {
          @apply
          from-interaction-300
          to-interaction-700
          text-ui-800;
        }
        hr {
          @apply
          border-dashed
          ;
        }
      }
      ~ li {
        &::before {
          @apply
          bg-ui-600
          ;
        }
        a {
          @apply
          text-ui-400
          ;
          &::before {
            @apply
            bg-ui-500
            ;
          }
          i {
            @apply
            from-ui-800
            to-ui-700
            text-ui-400
            ;
          }
        }
      }
    }
  }
}


/* tertiary */

.step.step-tertiary {

  @apply
  p-1
  ;

  li::before,
  a::before {
    @apply
    hidden;
  }
 
  > li {
    @apply
    mt-0
    ;
    > a {
      @apply
      p-0
      flex
      items-center
      text-ui-200
      ;

      > i {
        @apply 
        h-12
        w-12
        rounded-full
        bg-gradient-radial-to-b
        from-ui-900
        to-ui-800
        text-ui-800
        relative
        z-10
        text-center
        text-xl
        not-italic
        font-headings
        leading-[3rem]
        outline-4
        outline-interaction-500
        outline
        overflow-hidden
        ;


        &::before,
        &::after {
          @apply
          absolute
          transition-all
          duration-1000
          ease-[cubic-bezier(0.9,0,0.1,1)]
          ;
        }

        &::before {
          @apply
          content-['']
          inset-1
          rounded-full
          bg-gradient-radial-to-b
          from-interaction-300
          to-interaction-700
          ;
        }
        &::after {
          @apply
          font-icon
          content-['\eb24']
          z-10
          inset-0
          ;
        }
      }

      > span {
        @apply
        relative
        z-0
        h-1
        flex-1
        w-full
        bg-ui-600
        overflow-hidden
        ;
        &::before {
          @apply
          content-['']
          absolute
          z-0
          inset-0
          bg-interaction-500
          origin-left
          transition-all
          duration-1000
          ease-[cubic-bezier(0.9,0,0.1,1)]
          ;
          clip-path: polygon(0% 0%, 100% 0%, calc(100% - 0.25em) 100%, 0% 100%);
        }
      }
      hr {
        @apply
        hidden
        ;
      }
    }
    &:last-child {
      @apply
      flex-none
      ;
      span {
        @apply
        hidden
        ;
      }
    }
    &.is-active {
      a {
        @apply
        text-main
        ;
        span {
          &::before {
            @apply
            -translate-x-[50%]
            ;
          }
        }
      }
      ~ li {
        &::before {
          @apply
          bg-ui-600
          ;
        }
        a {
          @apply
          text-ui-400
          ;
          &::before {
            @apply
            bg-ui-500
            ;
          }
          i {
            @apply
            outline-ui-600
            from-ui-800
            to-ui-700
            text-ui-400
            ;

            &::before {
              @apply
              translate-y-12
              ;
            }
            &::after {
              @apply
              translate-y-12
              ;
            }
          }

          > span {
            &::before {
              @apply
              bg-interaction-500/0
              ;
            }
          }
          
        }
      }
    }
  }
}